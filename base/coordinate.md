#   WebGis开发入门-坐标系

##  地理坐标系(球面坐标)
地图：用来描述以地球表面为基准面的地理信息。(特指平面地图)

然而，地球表面是极其复杂，不规则的。要描述这个基准面就需要将其抽象化、规则化建立空间模型。

因为地球近似一个椭球体，测绘时用椭球体逼近。地球椭球体的基本参数有长轴a(赤道半径)、短轴b(极半径)、扁率等。

椭球面和地球表面肯定不是完全贴合的，不同地区关注的位置不一样，为了更贴近自己所关注的区域，会使用不同的基准面。(地心基准面、区域基准面)

![Alt text](../assets/1.png "1975年国际椭球元素及其关系示意图")

国际常用的坐标系：WGS84(arcgis wkid：4326)

我国常用的坐标系：北京54、西安80、大地坐标2000

地球表面上一点，不同大地坐标系的坐标是不一样的，即经纬度是不一样的。

另外，国家规定必须至少采用GCJ-02对地理位置进行加密。所以国内谷歌地图和国外谷歌地图的坐标系是不一样的。

##  投影坐标系(平面坐标)
投影：将地球椭球面上的点映射到平面上的方法。不同的投影方式会产生不同程度的变形。

常用的投影方法有：墨卡托投影、兰勃特投影、高斯-克吕格投影。

Web方面应用最广泛的是墨卡托投影，确切的说是Web墨卡托投影。

##  Web墨卡托投影
圆形球体：以WGS84 椭球的长半轴半径为球半径，即球半径取 6378137 米。(Flex地图端测距用的是6378000米)

投影坐标系：以赤道为标准纬线，本初子午线为中央经线，两者交点为坐标原点，向东向北为正，向西向南为负。

X轴：[-20037508.3427892,20037508.3427892]

y轴：[-20037508.3427892,20037508.3427892]

对应的arcgis wkid：102100(3857)

![Alt text](../assets/2.png "Web墨卡托投影")
##  TMS/WTMS(瓦片服务)
为了优化地图系统性能，提高地图下载和显示速度，在Web方面通常需要对地图进行切片。

切片主要有：TMS、WMTS和WMS。(arcgis的瓦片服务有WMTS、WMS等)

![Alt text](../assets/3.png "TMS")
##  其他
-   [https://github.com/mocheer/map](https://github.com/mocheer/map) 
    Web墨卡托投影的实现
-   [https://github.com/mocheer/react-map](https://github.com/mocheer/react-map) 
    基于react，一个简单的地图框架
-   [https://github.com/wandergis/coordtransform](https://github.com/wandergis/coordtransform)
    wgs84坐标和火星坐标、百度坐标之间的转换










